# Exploit Walkthrough: RTSP to Shell

**Difficulty:** Easy
**Prerequisites:** Default Ubuntu/GNOME desktop environment, standard video player (Totem) installed.

## Step 1: The Trigger

1.  Approach the **CityConnect** terminal.
2.  Locate the "Government Transparency" section.
3.  Click the large **"ðŸ”´ WATCH COUNCIL MEETING LIVE"** button.
    *   *Under the hood:* This links to `rtsp://127.0.0.1/live_stream`.

## Step 2: The Pivot

1.  The Kiosk browser (Chromium/Firefox) will attempt to handle the link.
2.  Recognizing the `rtsp` protocol, it hands execution over to the default registered handler: **Videos (Totem)**.
3.  The **Videos** application launches over the top of the Kiosk window.
    *   *Note:* It will likely display an error like "Unable to play" or "Connection refused" because the stream is fake. **This is expected and fine.** The application is now open.

## Step 3: The Breakout

We now have a standard desktop application running outside the Kiosk's restrictions.

1.  Inside the **Videos** application window:
    *   Press **`Ctrl + O`** (Open File).
    *   **OR** Click the **"+"** icon (Add Local Video).
2.  The standard **GTK File Chooser** dialog appears. This is a privileged file explorer.

## Step 4: The Shell

1.  Use the File Chooser to navigate to `/usr/bin/`.
2.  Scroll down to find `gnome-terminal` (or `xterm`).
3.  Right-click on the `gnome-terminal` binary.
4.  Select **"Run"** (if available) or copy/paste it to a location you can execute.

**Alternative (Context Menu):**
1.  In the File Chooser, navigate to any directory (e.g., `/home/kiosk/`).
2.  Right-click on a folder or empty space.
3.  Select **"Open in Terminal"** (if the Nautilus extension is installed).

**Result:** You now have a functional terminal window running as the kiosk user, bypassing the browser restrictions.

## Test Environment Note
If you are running this in a controlled test environment (like this repository's `reproduce_vuln.sh`):
- A **Mock Video Player** (Zenity dialog) may appear instead of Totem.
- This is by design to simulate the vulnerability without requiring full desktop packages.
- The mere appearance of this dialog confirms the escape: the browser successfully handed control to an external process.
